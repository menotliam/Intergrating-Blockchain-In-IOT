{
  "contractName": "DataStorage",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "requester",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "string",
          "name": "resourceId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "requester",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "string",
          "name": "resourceId",
          "type": "string"
        }
      ],
      "name": "AccessRevoked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "deviceId",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "dataType",
          "type": "string"
        }
      ],
      "name": "DataStored",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "string",
          "name": "did",
          "type": "string"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "publicKey",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "controller",
          "type": "address"
        }
      ],
      "name": "DeviceRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "deviceId",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "name": "DeviceStatusChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "accessControl",
      "outputs": [
        {
          "internalType": "address",
          "name": "requester",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "resourceId",
          "type": "string"
        },
        {
          "internalType": "bool",
          "name": "hasAccess",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "grantedAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "allDataHashes",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_requester",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_resourceId",
          "type": "string"
        }
      ],
      "name": "checkAccess",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "dataRecords",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "dataType",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "deviceId",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "dataHash",
          "type": "bytes32"
        },
        {
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "deviceDataHashes",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "devices",
      "outputs": [
        {
          "internalType": "string",
          "name": "did",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "publicKey",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "controller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "metadata",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "didToAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_did",
          "type": "string"
        }
      ],
      "name": "getDeviceByDID",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "did",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "publicKey",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "controller",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "metadata",
              "type": "string"
            }
          ],
          "internalType": "struct DataStorage.DeviceIdentity",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_deviceKey",
          "type": "address"
        }
      ],
      "name": "getDeviceDataHashes",
      "outputs": [
        {
          "internalType": "string[]",
          "name": "",
          "type": "string[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalDataRecords",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalDevices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_requester",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_resourceId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "_expiresAt",
          "type": "uint256"
        }
      ],
      "name": "grantAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_did",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "_publicKey",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_controller",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_metadata",
          "type": "string"
        }
      ],
      "name": "registerDevice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "registeredDevices",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_requester",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_resourceId",
          "type": "string"
        }
      ],
      "name": "revokeAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_ipfsHash",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "_dataType",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "_deviceId",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "_dataHash",
          "type": "bytes32"
        }
      ],
      "name": "storeDataHash",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_deviceKey",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "_isActive",
          "type": "bool"
        }
      ],
      "name": "updateDeviceStatus",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_ipfsHash",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "_dataHash",
          "type": "bytes32"
        }
      ],
      "name": "verifyDataIntegrity",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "6080604052600060025534801561001557600080fd5b50338061003c57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b6100458161004f565b506001805561009f565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6124f180620000af6000396000f3fe608060405234801561001057600080fd5b50600436106101375760003560e01c80638d7d410b116100b8578063d591e12d1161007c578063d591e12d146102cf578063dc61d161146102ef578063e7b4cac6146102f7578063efcc51b91461031c578063f1c2c6021461032f578063f2fde38b1461034f57600080fd5b80638d7d410b146102515780638da5cb5b14610274578063a5657a9114610285578063b579cc7814610298578063d1b4b039146102aa57600080fd5b80636a44cac9116100ff5780636a44cac9146101dc5780636ba1f4a4146101ef578063715018a6146102235780637f93a9611461022b5780638573bb8e1461023e57600080fd5b806309dbf0b51461013c57806332076e771461016557806343386ed01461018957806350dcd8a2146101b457806362b178fb146101c9575b600080fd5b61014f61014a366004611dc4565b610362565b60405161015c9190611e3e565b60405180910390f35b610178610173366004611efb565b61041b565b60405161015c959493929190611f49565b61019c610197366004611f8a565b6104fe565b6040516001600160a01b03909116815260200161015c565b6101c76101c2366004611fa3565b610528565b005b6101c76101d736600461201f565b6108e3565b6101c76101ea366004611efb565b6109d8565b61019c6101fd36600461205b565b80516020818301810180516004825292820191909301209152546001600160a01b031681565b6101c7610c8c565b6101c7610239366004612090565b610ca0565b61014f61024c366004611f8a565b611080565b61026461025f3660046120e7565b6110ab565b604051901515815260200161015c565b6000546001600160a01b031661019c565b610264610293366004611efb565b611253565b6009545b60405190815260200161015c565b6102bd6102b836600461205b565b6113a3565b60405161015c9695949392919061212c565b6102e26102dd366004612182565b611500565b60405161015c919061219d565b60085461029c565b61030a610305366004612182565b6115ef565b60405161015c969594939291906121ff565b6101c761032a366004612257565b611748565b61034261033d36600461205b565b611aa8565b60405161015c91906122dc565b6101c761035d366004612182565b611ced565b6007602052816000526040600020818154811061037e57600080fd5b9060005260206000200160009150915050805461039a90612356565b80601f01602080910402602001604051908101604052809291908181526020018280546103c690612356565b80156104135780601f106103e857610100808354040283529160200191610413565b820191906000526020600020905b8154815290600101906020018083116103f657829003601f168201915b505050505081565b60066020908152600092835260409092208151808301840180519281529084019290930191909120915280546001820180546001600160a01b03909216929161046390612356565b80601f016020809104026020016040519081016040528092919081815260200182805461048f90612356565b80156104dc5780601f106104b1576101008083540402835291602001916104dc565b820191906000526020600020905b8154815290600101906020018083116104bf57829003601f168201915b5050505060028301546003840154600490940154929360ff9091169290915085565b6008818154811061050e57600080fd5b6000918252602090912001546001600160a01b0316905081565b6001600160a01b038216600090815260036020526040902060040154829060ff166105a45760405162461bcd60e51b815260206004820152602160248201527f446576696365206e6f742072656769737465726564206f7220696e61637469766044820152606560f81b60648201526084015b60405180910390fd5b60008551116105f55760405162461bcd60e51b815260206004820152601960248201527f4950465320686173682063616e6e6f7420626520656d70747900000000000000604482015260640161059b565b60008451116106465760405162461bcd60e51b815260206004820152601960248201527f4461746120747970652063616e6e6f7420626520656d70747900000000000000604482015260640161059b565b6001600160a01b038381166000908152600360205260409020600201541633148061067957506001600160a01b03831633145b6106da5760405162461bcd60e51b815260206004820152602c60248201527f4e6f7420617574686f72697a656420746f2073746f7265206461746120666f7260448201526b20746869732064657669636560a01b606482015260840161059b565b6005856040516106ea9190612390565b9081526040519081900360200190206005015460ff161561074d5760405162461bcd60e51b815260206004820152601860248201527f44617461206861736820616c7265616479206578697374730000000000000000604482015260640161059b565b6040518060c00160405280868152602001858152602001846001600160a01b03168152602001428152602001838152602001600115158152506005866040516107969190612390565b908152604051908190036020019020815181906107b390826123fb565b50602082015160018201906107c890826123fb565b506040828101516002830180546001600160a01b0319166001600160a01b03928316179055606084015160038401556080840151600484015560a0909301516005909201805460ff19169215159290921790915590841660009081526007602090815291812080546001810182559082529190200161084786826123fb565b50600980546001810182556000919091527f6e1540171b6c0c960b71a7020d9f60077f6af931a8bbf590da0223dacf75c7af0161088486826123fb565b50826001600160a01b03168560405161089d9190612390565b60405180910390207fea4287719a986faa394b74196bff840cab55fe41df2d07e0a7e39b2f377c9be1866040516108d49190611e3e565b60405180910390a35050505050565b6001600160a01b0380831660009081526003602052604090206002015483911633148061092957503361091e6000546001600160a01b031690565b6001600160a01b0316145b6109755760405162461bcd60e51b815260206004820152601960248201527f4e6f7420617574686f72697a656420636f6e74726f6c6c657200000000000000604482015260640161059b565b6001600160a01b038316600081815260036020908152604091829020600401805460ff191686151590811790915591519182527f52c12c7a9034a93a4232ef37813f55dcb0f9860c6f7a556ae0df04b73824afef910160405180910390a2505050565b60006005826040516109ea9190612390565b90815260200160405180910390206040518060c0016040529081600082018054610a1390612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610a3f90612356565b8015610a8c5780601f10610a6157610100808354040283529160200191610a8c565b820191906000526020600020905b815481529060010190602001808311610a6f57829003601f168201915b50505050508152602001600182018054610aa590612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610ad190612356565b8015610b1e5780601f10610af357610100808354040283529160200191610b1e565b820191906000526020600020905b815481529060010190602001808311610b0157829003601f168201915b50505091835250506002828101546001600160a01b039081166020808501919091526003808601546040808701919091526004870154606087015260059096015460ff161515608090950194909452858501518216600090815293905292909120015491925016331480610bab575033610ba06000546001600160a01b031690565b6001600160a01b0316145b610bf75760405162461bcd60e51b815260206004820152601f60248201527f4e6f7420617574686f72697a656420746f207265766f6b652061636365737300604482015260640161059b565b6001600160a01b0383166000908152600660205260408082209051610c1d908590612390565b908152604051908190036020018120600201805492151560ff1990931692909217909155610c4c908390612390565b604051908190038120906001600160a01b038516907f51cbcaaca6ae26944c6280c966a07b04ca5c6766d82ca497ded152579431468d90600090a3505050565b610c94611d2b565b610c9e6000611d58565b565b6001600160a01b038316610cf65760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420726571756573746572206164647265737300000000000000604482015260640161059b565b6000825111610d475760405162461bcd60e51b815260206004820152601b60248201527f5265736f757263652049442063616e6e6f7420626520656d7074790000000000604482015260640161059b565b6000600583604051610d599190612390565b90815260200160405180910390206040518060c0016040529081600082018054610d8290612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610dae90612356565b8015610dfb5780601f10610dd057610100808354040283529160200191610dfb565b820191906000526020600020905b815481529060010190602001808311610dde57829003601f168201915b50505050508152602001600182018054610e1490612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4090612356565b8015610e8d5780601f10610e6257610100808354040283529160200191610e8d565b820191906000526020600020905b815481529060010190602001808311610e7057829003601f168201915b50505091835250506002828101546001600160a01b039081166020808501919091526003808601546040808701919091526004870154606087015260059096015460ff161515608090950194909452858501518216600090815293905292909120015491925016331480610f1a575033610f0f6000546001600160a01b031690565b6001600160a01b0316145b610f665760405162461bcd60e51b815260206004820152601e60248201527f4e6f7420617574686f72697a656420746f206772616e74206163636573730000604482015260640161059b565b6040805160a0810182526001600160a01b0386168082526020808301879052600183850152426060840152608083018690526000918252600690528290209151909190610fb4908690612390565b90815260405160209181900382019020825181546001600160a01b0319166001600160a01b03909116178155908201516001820190610ff390826123fb565b5060408281015160028301805460ff1916911515919091179055606083015160038301556080909201516004909101555161102f908490612390565b6040518091039020846001600160a01b03167f3b0b21116afe63a37708e6241426883ad2a446b946bde89994a5293702a60a888460405161107291815260200190565b60405180910390a350505050565b6009818154811061109057600080fd5b90600052602060002001600091509050805461039a90612356565b6000806005846040516110be9190612390565b90815260200160405180910390206040518060c00160405290816000820180546110e790612356565b80601f016020809104026020016040519081016040528092919081815260200182805461111390612356565b80156111605780601f1061113557610100808354040283529160200191611160565b820191906000526020600020905b81548152906001019060200180831161114357829003601f168201915b5050505050815260200160018201805461117990612356565b80601f01602080910402602001604051908101604052809291908181526020018280546111a590612356565b80156111f25780601f106111c7576101008083540402835291602001916111f2565b820191906000526020600020905b8154815290600101906020018083116111d557829003601f168201915b505050918352505060028201546001600160a01b03166020820152600382015460408201526004820154606082015260059091015460ff16151560809091015260a081015190915080156112495750828160800151145b9150505b92915050565b6001600160a01b038216600090815260066020526040808220905182919061127c908590612390565b90815260408051918290036020908101832060a0840190925281546001600160a01b03168352600182018054918401916112b590612356565b80601f01602080910402602001604051908101604052809291908181526020018280546112e190612356565b801561132e5780601f106113035761010080835404028352916020019161132e565b820191906000526020600020905b81548152906001019060200180831161131157829003601f168201915b5050509183525050600282015460ff1615156020820152600382015460408083019190915260049092015460609091015281015190915061137357600091505061124d565b6000816080015111801561138a5750806080015142115b1561139957600091505061124d565b5060019392505050565b80516020818301810180516005825292820191909301209152805481906113c990612356565b80601f01602080910402602001604051908101604052809291908181526020018280546113f590612356565b80156114425780601f1061141757610100808354040283529160200191611442565b820191906000526020600020905b81548152906001019060200180831161142557829003601f168201915b50505050509080600101805461145790612356565b80601f016020809104026020016040519081016040528092919081815260200182805461148390612356565b80156114d05780601f106114a5576101008083540402835291602001916114d0565b820191906000526020600020905b8154815290600101906020018083116114b357829003601f168201915b5050505060028301546003840154600485015460059095015493946001600160a01b039092169390925060ff1686565b6001600160a01b0381166000908152600760209081526040808320805482518185028101850190935280835260609492939192909184015b828210156115e457838290600052602060002001805461155790612356565b80601f016020809104026020016040519081016040528092919081815260200182805461158390612356565b80156115d05780601f106115a5576101008083540402835291602001916115d0565b820191906000526020600020905b8154815290600101906020018083116115b357829003601f168201915b505050505081526020019060010190611538565b505050509050919050565b60036020526000908152604090208054819061160a90612356565b80601f016020809104026020016040519081016040528092919081815260200182805461163690612356565b80156116835780601f1061165857610100808354040283529160200191611683565b820191906000526020600020905b81548152906001019060200180831161166657829003601f168201915b505050600184015460028501546003860154600487015460058801805497986001600160a01b039586169894909516965091945060ff1692916116c590612356565b80601f01602080910402602001604051908101604052809291908181526020018280546116f190612356565b801561173e5780601f106117135761010080835404028352916020019161173e565b820191906000526020600020905b81548152906001019060200180831161172157829003601f168201915b5050505050905086565b611750611d2b565b60008451116117975760405162461bcd60e51b81526020600482015260136024820152724449442063616e6e6f7420626520656d70747960681b604482015260640161059b565b6001600160a01b0383166117e25760405162461bcd60e51b8152602060048201526012602482015271496e76616c6964207075626c6963206b657960701b604482015260640161059b565b6001600160a01b0382166118385760405162461bcd60e51b815260206004820152601a60248201527f496e76616c696420636f6e74726f6c6c65722061646472657373000000000000604482015260640161059b565b6001600160a01b03831660009081526003602052604090206004015460ff16156118a45760405162461bcd60e51b815260206004820152601960248201527f44657669636520616c7265616479207265676973746572656400000000000000604482015260640161059b565b60006001600160a01b03166004856040516118bf9190612390565b908152604051908190036020019020546001600160a01b03161461191a5760405162461bcd60e51b815260206004820152601260248201527144494420616c72656164792065786973747360701b604482015260640161059b565b6040805160c0810182528581526001600160a01b038086166020808401829052918616838501524260608401526001608084015260a0830185905260009081526003909152919091208151819061197190826123fb565b5060208201516001820180546001600160a01b039283166001600160a01b031991821617909155604084015160028401805491909316911617905560608201516003820155608082015160048201805491151560ff1990921691909117905560a082015160058201906119e490826123fb565b50905050826004856040516119f99190612390565b90815260405190819003602001812080546001600160a01b039384166001600160a01b031991821617909155600880546001810182556000919091527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30180548785169216821790559184169190611a72908790612390565b604051908190038120907ffd9debad2fafb11807eb091e1e920dd86a1eb845e94bd015ae2cc1e0890e213790600090a450505050565b611af56040518060c001604052806060815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160008152602001600015158152602001606081525090565b6000600483604051611b079190612390565b908152604051908190036020019020546001600160a01b0316905080611b625760405162461bcd60e51b815260206004820152601060248201526f11195d9a58d9481b9bdd08199bdd5b9960821b604482015260640161059b565b6001600160a01b03811660009081526003602052604090819020815160c08101909252805482908290611b9490612356565b80601f0160208091040260200160405190810160405280929190818152602001828054611bc090612356565b8015611c0d5780601f10611be257610100808354040283529160200191611c0d565b820191906000526020600020905b815481529060010190602001808311611bf057829003601f168201915b505050918352505060018201546001600160a01b039081166020830152600283015416604082015260038201546060820152600482015460ff161515608082015260058201805460a090920191611c6390612356565b80601f0160208091040260200160405190810160405280929190818152602001828054611c8f90612356565b8015611cdc5780601f10611cb157610100808354040283529160200191611cdc565b820191906000526020600020905b815481529060010190602001808311611cbf57829003601f168201915b505050505081525050915050919050565b611cf5611d2b565b6001600160a01b038116611d1f57604051631e4fbdf760e01b81526000600482015260240161059b565b611d2881611d58565b50565b6000546001600160a01b03163314610c9e5760405163118cdaa760e01b815233600482015260240161059b565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114611dbf57600080fd5b919050565b60008060408385031215611dd757600080fd5b611de083611da8565b946020939093013593505050565b60005b83811015611e09578181015183820152602001611df1565b50506000910152565b60008151808452611e2a816020860160208601611dee565b601f01601f19169290920160200192915050565b602081526000611e516020830184611e12565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112611e7f57600080fd5b813567ffffffffffffffff80821115611e9a57611e9a611e58565b604051601f8301601f19908116603f01168101908282118183101715611ec257611ec2611e58565b81604052838152866020858801011115611edb57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060408385031215611f0e57600080fd5b611f1783611da8565b9150602083013567ffffffffffffffff811115611f3357600080fd5b611f3f85828601611e6e565b9150509250929050565b6001600160a01b038616815260a060208201819052600090611f6d90830187611e12565b941515604083015250606081019290925260809091015292915050565b600060208284031215611f9c57600080fd5b5035919050565b60008060008060808587031215611fb957600080fd5b843567ffffffffffffffff80821115611fd157600080fd5b611fdd88838901611e6e565b95506020870135915080821115611ff357600080fd5b5061200087828801611e6e565b93505061200f60408601611da8565b9396929550929360600135925050565b6000806040838503121561203257600080fd5b61203b83611da8565b91506020830135801515811461205057600080fd5b809150509250929050565b60006020828403121561206d57600080fd5b813567ffffffffffffffff81111561208457600080fd5b61124984828501611e6e565b6000806000606084860312156120a557600080fd5b6120ae84611da8565b9250602084013567ffffffffffffffff8111156120ca57600080fd5b6120d686828701611e6e565b925050604084013590509250925092565b600080604083850312156120fa57600080fd5b823567ffffffffffffffff81111561211157600080fd5b61211d85828601611e6e565b95602094909401359450505050565b60c08152600061213f60c0830189611e12565b82810360208401526121518189611e12565b6001600160a01b03979097166040840152505060608101939093526080830191909152151560a09091015292915050565b60006020828403121561219457600080fd5b611e5182611da8565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b828110156121f257603f198886030184526121e0858351611e12565b945092850192908501906001016121c4565b5092979650505050505050565b60c08152600061221260c0830189611e12565b6001600160a01b0388811660208501528716604084015260608301869052841515608084015282810360a084015261224a8185611e12565b9998505050505050505050565b6000806000806080858703121561226d57600080fd5b843567ffffffffffffffff8082111561228557600080fd5b61229188838901611e6e565b955061229f60208801611da8565b94506122ad60408801611da8565b935060608701359150808211156122c357600080fd5b506122d087828801611e6e565b91505092959194509250565b602081526000825160c060208401526122f860e0840182611e12565b9050602084015160018060a01b0380821660408601528060408701511660608601525050606084015160808401526080840151151560a084015260a0840151601f198483030160c085015261234d8282611e12565b95945050505050565b600181811c9082168061236a57607f821691505b60208210810361238a57634e487b7160e01b600052602260045260246000fd5b50919050565b600082516123a2818460208701611dee565b9190910192915050565b601f8211156123f657600081815260208120601f850160051c810160208610156123d35750805b601f850160051c820191505b818110156123f2578281556001016123df565b5050505b505050565b815167ffffffffffffffff81111561241557612415611e58565b612429816124238454612356565b846123ac565b602080601f83116001811461245e57600084156124465750858301515b600019600386901b1c1916600185901b1785556123f2565b600085815260208120601f198616915b8281101561248d5788860151825594840194600190910190840161246e565b50858210156124ab5787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea2646970667358221220cb0bbaa867e1341d13738db62c20a117d709f5ef3ad03e5ec03719de88d12b8464736f6c63430008140033",
  "deployedBytecode": "608060405234801561001057600080fd5b50600436106101375760003560e01c80638d7d410b116100b8578063d591e12d1161007c578063d591e12d146102cf578063dc61d161146102ef578063e7b4cac6146102f7578063efcc51b91461031c578063f1c2c6021461032f578063f2fde38b1461034f57600080fd5b80638d7d410b146102515780638da5cb5b14610274578063a5657a9114610285578063b579cc7814610298578063d1b4b039146102aa57600080fd5b80636a44cac9116100ff5780636a44cac9146101dc5780636ba1f4a4146101ef578063715018a6146102235780637f93a9611461022b5780638573bb8e1461023e57600080fd5b806309dbf0b51461013c57806332076e771461016557806343386ed01461018957806350dcd8a2146101b457806362b178fb146101c9575b600080fd5b61014f61014a366004611dc4565b610362565b60405161015c9190611e3e565b60405180910390f35b610178610173366004611efb565b61041b565b60405161015c959493929190611f49565b61019c610197366004611f8a565b6104fe565b6040516001600160a01b03909116815260200161015c565b6101c76101c2366004611fa3565b610528565b005b6101c76101d736600461201f565b6108e3565b6101c76101ea366004611efb565b6109d8565b61019c6101fd36600461205b565b80516020818301810180516004825292820191909301209152546001600160a01b031681565b6101c7610c8c565b6101c7610239366004612090565b610ca0565b61014f61024c366004611f8a565b611080565b61026461025f3660046120e7565b6110ab565b604051901515815260200161015c565b6000546001600160a01b031661019c565b610264610293366004611efb565b611253565b6009545b60405190815260200161015c565b6102bd6102b836600461205b565b6113a3565b60405161015c9695949392919061212c565b6102e26102dd366004612182565b611500565b60405161015c919061219d565b60085461029c565b61030a610305366004612182565b6115ef565b60405161015c969594939291906121ff565b6101c761032a366004612257565b611748565b61034261033d36600461205b565b611aa8565b60405161015c91906122dc565b6101c761035d366004612182565b611ced565b6007602052816000526040600020818154811061037e57600080fd5b9060005260206000200160009150915050805461039a90612356565b80601f01602080910402602001604051908101604052809291908181526020018280546103c690612356565b80156104135780601f106103e857610100808354040283529160200191610413565b820191906000526020600020905b8154815290600101906020018083116103f657829003601f168201915b505050505081565b60066020908152600092835260409092208151808301840180519281529084019290930191909120915280546001820180546001600160a01b03909216929161046390612356565b80601f016020809104026020016040519081016040528092919081815260200182805461048f90612356565b80156104dc5780601f106104b1576101008083540402835291602001916104dc565b820191906000526020600020905b8154815290600101906020018083116104bf57829003601f168201915b5050505060028301546003840154600490940154929360ff9091169290915085565b6008818154811061050e57600080fd5b6000918252602090912001546001600160a01b0316905081565b6001600160a01b038216600090815260036020526040902060040154829060ff166105a45760405162461bcd60e51b815260206004820152602160248201527f446576696365206e6f742072656769737465726564206f7220696e61637469766044820152606560f81b60648201526084015b60405180910390fd5b60008551116105f55760405162461bcd60e51b815260206004820152601960248201527f4950465320686173682063616e6e6f7420626520656d70747900000000000000604482015260640161059b565b60008451116106465760405162461bcd60e51b815260206004820152601960248201527f4461746120747970652063616e6e6f7420626520656d70747900000000000000604482015260640161059b565b6001600160a01b038381166000908152600360205260409020600201541633148061067957506001600160a01b03831633145b6106da5760405162461bcd60e51b815260206004820152602c60248201527f4e6f7420617574686f72697a656420746f2073746f7265206461746120666f7260448201526b20746869732064657669636560a01b606482015260840161059b565b6005856040516106ea9190612390565b9081526040519081900360200190206005015460ff161561074d5760405162461bcd60e51b815260206004820152601860248201527f44617461206861736820616c7265616479206578697374730000000000000000604482015260640161059b565b6040518060c00160405280868152602001858152602001846001600160a01b03168152602001428152602001838152602001600115158152506005866040516107969190612390565b908152604051908190036020019020815181906107b390826123fb565b50602082015160018201906107c890826123fb565b506040828101516002830180546001600160a01b0319166001600160a01b03928316179055606084015160038401556080840151600484015560a0909301516005909201805460ff19169215159290921790915590841660009081526007602090815291812080546001810182559082529190200161084786826123fb565b50600980546001810182556000919091527f6e1540171b6c0c960b71a7020d9f60077f6af931a8bbf590da0223dacf75c7af0161088486826123fb565b50826001600160a01b03168560405161089d9190612390565b60405180910390207fea4287719a986faa394b74196bff840cab55fe41df2d07e0a7e39b2f377c9be1866040516108d49190611e3e565b60405180910390a35050505050565b6001600160a01b0380831660009081526003602052604090206002015483911633148061092957503361091e6000546001600160a01b031690565b6001600160a01b0316145b6109755760405162461bcd60e51b815260206004820152601960248201527f4e6f7420617574686f72697a656420636f6e74726f6c6c657200000000000000604482015260640161059b565b6001600160a01b038316600081815260036020908152604091829020600401805460ff191686151590811790915591519182527f52c12c7a9034a93a4232ef37813f55dcb0f9860c6f7a556ae0df04b73824afef910160405180910390a2505050565b60006005826040516109ea9190612390565b90815260200160405180910390206040518060c0016040529081600082018054610a1390612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610a3f90612356565b8015610a8c5780601f10610a6157610100808354040283529160200191610a8c565b820191906000526020600020905b815481529060010190602001808311610a6f57829003601f168201915b50505050508152602001600182018054610aa590612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610ad190612356565b8015610b1e5780601f10610af357610100808354040283529160200191610b1e565b820191906000526020600020905b815481529060010190602001808311610b0157829003601f168201915b50505091835250506002828101546001600160a01b039081166020808501919091526003808601546040808701919091526004870154606087015260059096015460ff161515608090950194909452858501518216600090815293905292909120015491925016331480610bab575033610ba06000546001600160a01b031690565b6001600160a01b0316145b610bf75760405162461bcd60e51b815260206004820152601f60248201527f4e6f7420617574686f72697a656420746f207265766f6b652061636365737300604482015260640161059b565b6001600160a01b0383166000908152600660205260408082209051610c1d908590612390565b908152604051908190036020018120600201805492151560ff1990931692909217909155610c4c908390612390565b604051908190038120906001600160a01b038516907f51cbcaaca6ae26944c6280c966a07b04ca5c6766d82ca497ded152579431468d90600090a3505050565b610c94611d2b565b610c9e6000611d58565b565b6001600160a01b038316610cf65760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420726571756573746572206164647265737300000000000000604482015260640161059b565b6000825111610d475760405162461bcd60e51b815260206004820152601b60248201527f5265736f757263652049442063616e6e6f7420626520656d7074790000000000604482015260640161059b565b6000600583604051610d599190612390565b90815260200160405180910390206040518060c0016040529081600082018054610d8290612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610dae90612356565b8015610dfb5780601f10610dd057610100808354040283529160200191610dfb565b820191906000526020600020905b815481529060010190602001808311610dde57829003601f168201915b50505050508152602001600182018054610e1490612356565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4090612356565b8015610e8d5780601f10610e6257610100808354040283529160200191610e8d565b820191906000526020600020905b815481529060010190602001808311610e7057829003601f168201915b50505091835250506002828101546001600160a01b039081166020808501919091526003808601546040808701919091526004870154606087015260059096015460ff161515608090950194909452858501518216600090815293905292909120015491925016331480610f1a575033610f0f6000546001600160a01b031690565b6001600160a01b0316145b610f665760405162461bcd60e51b815260206004820152601e60248201527f4e6f7420617574686f72697a656420746f206772616e74206163636573730000604482015260640161059b565b6040805160a0810182526001600160a01b0386168082526020808301879052600183850152426060840152608083018690526000918252600690528290209151909190610fb4908690612390565b90815260405160209181900382019020825181546001600160a01b0319166001600160a01b03909116178155908201516001820190610ff390826123fb565b5060408281015160028301805460ff1916911515919091179055606083015160038301556080909201516004909101555161102f908490612390565b6040518091039020846001600160a01b03167f3b0b21116afe63a37708e6241426883ad2a446b946bde89994a5293702a60a888460405161107291815260200190565b60405180910390a350505050565b6009818154811061109057600080fd5b90600052602060002001600091509050805461039a90612356565b6000806005846040516110be9190612390565b90815260200160405180910390206040518060c00160405290816000820180546110e790612356565b80601f016020809104026020016040519081016040528092919081815260200182805461111390612356565b80156111605780601f1061113557610100808354040283529160200191611160565b820191906000526020600020905b81548152906001019060200180831161114357829003601f168201915b5050505050815260200160018201805461117990612356565b80601f01602080910402602001604051908101604052809291908181526020018280546111a590612356565b80156111f25780601f106111c7576101008083540402835291602001916111f2565b820191906000526020600020905b8154815290600101906020018083116111d557829003601f168201915b505050918352505060028201546001600160a01b03166020820152600382015460408201526004820154606082015260059091015460ff16151560809091015260a081015190915080156112495750828160800151145b9150505b92915050565b6001600160a01b038216600090815260066020526040808220905182919061127c908590612390565b90815260408051918290036020908101832060a0840190925281546001600160a01b03168352600182018054918401916112b590612356565b80601f01602080910402602001604051908101604052809291908181526020018280546112e190612356565b801561132e5780601f106113035761010080835404028352916020019161132e565b820191906000526020600020905b81548152906001019060200180831161131157829003601f168201915b5050509183525050600282015460ff1615156020820152600382015460408083019190915260049092015460609091015281015190915061137357600091505061124d565b6000816080015111801561138a5750806080015142115b1561139957600091505061124d565b5060019392505050565b80516020818301810180516005825292820191909301209152805481906113c990612356565b80601f01602080910402602001604051908101604052809291908181526020018280546113f590612356565b80156114425780601f1061141757610100808354040283529160200191611442565b820191906000526020600020905b81548152906001019060200180831161142557829003601f168201915b50505050509080600101805461145790612356565b80601f016020809104026020016040519081016040528092919081815260200182805461148390612356565b80156114d05780601f106114a5576101008083540402835291602001916114d0565b820191906000526020600020905b8154815290600101906020018083116114b357829003601f168201915b5050505060028301546003840154600485015460059095015493946001600160a01b039092169390925060ff1686565b6001600160a01b0381166000908152600760209081526040808320805482518185028101850190935280835260609492939192909184015b828210156115e457838290600052602060002001805461155790612356565b80601f016020809104026020016040519081016040528092919081815260200182805461158390612356565b80156115d05780601f106115a5576101008083540402835291602001916115d0565b820191906000526020600020905b8154815290600101906020018083116115b357829003601f168201915b505050505081526020019060010190611538565b505050509050919050565b60036020526000908152604090208054819061160a90612356565b80601f016020809104026020016040519081016040528092919081815260200182805461163690612356565b80156116835780601f1061165857610100808354040283529160200191611683565b820191906000526020600020905b81548152906001019060200180831161166657829003601f168201915b505050600184015460028501546003860154600487015460058801805497986001600160a01b039586169894909516965091945060ff1692916116c590612356565b80601f01602080910402602001604051908101604052809291908181526020018280546116f190612356565b801561173e5780601f106117135761010080835404028352916020019161173e565b820191906000526020600020905b81548152906001019060200180831161172157829003601f168201915b5050505050905086565b611750611d2b565b60008451116117975760405162461bcd60e51b81526020600482015260136024820152724449442063616e6e6f7420626520656d70747960681b604482015260640161059b565b6001600160a01b0383166117e25760405162461bcd60e51b8152602060048201526012602482015271496e76616c6964207075626c6963206b657960701b604482015260640161059b565b6001600160a01b0382166118385760405162461bcd60e51b815260206004820152601a60248201527f496e76616c696420636f6e74726f6c6c65722061646472657373000000000000604482015260640161059b565b6001600160a01b03831660009081526003602052604090206004015460ff16156118a45760405162461bcd60e51b815260206004820152601960248201527f44657669636520616c7265616479207265676973746572656400000000000000604482015260640161059b565b60006001600160a01b03166004856040516118bf9190612390565b908152604051908190036020019020546001600160a01b03161461191a5760405162461bcd60e51b815260206004820152601260248201527144494420616c72656164792065786973747360701b604482015260640161059b565b6040805160c0810182528581526001600160a01b038086166020808401829052918616838501524260608401526001608084015260a0830185905260009081526003909152919091208151819061197190826123fb565b5060208201516001820180546001600160a01b039283166001600160a01b031991821617909155604084015160028401805491909316911617905560608201516003820155608082015160048201805491151560ff1990921691909117905560a082015160058201906119e490826123fb565b50905050826004856040516119f99190612390565b90815260405190819003602001812080546001600160a01b039384166001600160a01b031991821617909155600880546001810182556000919091527ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30180548785169216821790559184169190611a72908790612390565b604051908190038120907ffd9debad2fafb11807eb091e1e920dd86a1eb845e94bd015ae2cc1e0890e213790600090a450505050565b611af56040518060c001604052806060815260200160006001600160a01b0316815260200160006001600160a01b0316815260200160008152602001600015158152602001606081525090565b6000600483604051611b079190612390565b908152604051908190036020019020546001600160a01b0316905080611b625760405162461bcd60e51b815260206004820152601060248201526f11195d9a58d9481b9bdd08199bdd5b9960821b604482015260640161059b565b6001600160a01b03811660009081526003602052604090819020815160c08101909252805482908290611b9490612356565b80601f0160208091040260200160405190810160405280929190818152602001828054611bc090612356565b8015611c0d5780601f10611be257610100808354040283529160200191611c0d565b820191906000526020600020905b815481529060010190602001808311611bf057829003601f168201915b505050918352505060018201546001600160a01b039081166020830152600283015416604082015260038201546060820152600482015460ff161515608082015260058201805460a090920191611c6390612356565b80601f0160208091040260200160405190810160405280929190818152602001828054611c8f90612356565b8015611cdc5780601f10611cb157610100808354040283529160200191611cdc565b820191906000526020600020905b815481529060010190602001808311611cbf57829003601f168201915b505050505081525050915050919050565b611cf5611d2b565b6001600160a01b038116611d1f57604051631e4fbdf760e01b81526000600482015260240161059b565b611d2881611d58565b50565b6000546001600160a01b03163314610c9e5760405163118cdaa760e01b815233600482015260240161059b565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80356001600160a01b0381168114611dbf57600080fd5b919050565b60008060408385031215611dd757600080fd5b611de083611da8565b946020939093013593505050565b60005b83811015611e09578181015183820152602001611df1565b50506000910152565b60008151808452611e2a816020860160208601611dee565b601f01601f19169290920160200192915050565b602081526000611e516020830184611e12565b9392505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112611e7f57600080fd5b813567ffffffffffffffff80821115611e9a57611e9a611e58565b604051601f8301601f19908116603f01168101908282118183101715611ec257611ec2611e58565b81604052838152866020858801011115611edb57600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060408385031215611f0e57600080fd5b611f1783611da8565b9150602083013567ffffffffffffffff811115611f3357600080fd5b611f3f85828601611e6e565b9150509250929050565b6001600160a01b038616815260a060208201819052600090611f6d90830187611e12565b941515604083015250606081019290925260809091015292915050565b600060208284031215611f9c57600080fd5b5035919050565b60008060008060808587031215611fb957600080fd5b843567ffffffffffffffff80821115611fd157600080fd5b611fdd88838901611e6e565b95506020870135915080821115611ff357600080fd5b5061200087828801611e6e565b93505061200f60408601611da8565b9396929550929360600135925050565b6000806040838503121561203257600080fd5b61203b83611da8565b91506020830135801515811461205057600080fd5b809150509250929050565b60006020828403121561206d57600080fd5b813567ffffffffffffffff81111561208457600080fd5b61124984828501611e6e565b6000806000606084860312156120a557600080fd5b6120ae84611da8565b9250602084013567ffffffffffffffff8111156120ca57600080fd5b6120d686828701611e6e565b925050604084013590509250925092565b600080604083850312156120fa57600080fd5b823567ffffffffffffffff81111561211157600080fd5b61211d85828601611e6e565b95602094909401359450505050565b60c08152600061213f60c0830189611e12565b82810360208401526121518189611e12565b6001600160a01b03979097166040840152505060608101939093526080830191909152151560a09091015292915050565b60006020828403121561219457600080fd5b611e5182611da8565b6000602080830181845280855180835260408601915060408160051b870101925083870160005b828110156121f257603f198886030184526121e0858351611e12565b945092850192908501906001016121c4565b5092979650505050505050565b60c08152600061221260c0830189611e12565b6001600160a01b0388811660208501528716604084015260608301869052841515608084015282810360a084015261224a8185611e12565b9998505050505050505050565b6000806000806080858703121561226d57600080fd5b843567ffffffffffffffff8082111561228557600080fd5b61229188838901611e6e565b955061229f60208801611da8565b94506122ad60408801611da8565b935060608701359150808211156122c357600080fd5b506122d087828801611e6e565b91505092959194509250565b602081526000825160c060208401526122f860e0840182611e12565b9050602084015160018060a01b0380821660408601528060408701511660608601525050606084015160808401526080840151151560a084015260a0840151601f198483030160c085015261234d8282611e12565b95945050505050565b600181811c9082168061236a57607f821691505b60208210810361238a57634e487b7160e01b600052602260045260246000fd5b50919050565b600082516123a2818460208701611dee565b9190910192915050565b601f8211156123f657600081815260208120601f850160051c810160208610156123d35750805b601f850160051c820191505b818110156123f2578281556001016123df565b5050505b505050565b815167ffffffffffffffff81111561241557612415611e58565b612429816124238454612356565b846123ac565b602080601f83116001811461245e57600084156124465750858301515b600019600386901b1c1916600185901b1785556123f2565b600085815260208120601f198616915b8281101561248d5788860151825594840194600190910190840161246e565b50858210156124ab5787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea2646970667358221220cb0bbaa867e1341d13738db62c20a117d709f5ef3ad03e5ec03719de88d12b8464736f6c63430008140033",
  "methodIdentifiers": {
    "accessControl(address,string)": "32076e77",
    "allDataHashes(uint256)": "8573bb8e",
    "checkAccess(address,string)": "a5657a91",
    "dataRecords(string)": "d1b4b039",
    "deviceDataHashes(address,uint256)": "09dbf0b5",
    "devices(address)": "e7b4cac6",
    "didToAddress(string)": "6ba1f4a4",
    "getDeviceByDID(string)": "f1c2c602",
    "getDeviceDataHashes(address)": "d591e12d",
    "getTotalDataRecords()": "b579cc78",
    "getTotalDevices()": "dc61d161",
    "grantAccess(address,string,uint256)": "7f93a961",
    "owner()": "8da5cb5b",
    "registerDevice(string,address,address,string)": "efcc51b9",
    "registeredDevices(uint256)": "43386ed0",
    "renounceOwnership()": "715018a6",
    "revokeAccess(address,string)": "6a44cac9",
    "storeDataHash(string,string,address,bytes32)": "50dcd8a2",
    "transferOwnership(address)": "f2fde38b",
    "updateDeviceStatus(address,bool)": "62b178fb",
    "verifyDataIntegrity(string,bytes32)": "8d7d410b"
  },
  "gasEstimates": {
    "creation": {
      "codeDepositCost": "1891400",
      "executionCost": "54973",
      "totalCost": "1946373"
    },
    "external": {
      "accessControl(address,string)": "infinite",
      "allDataHashes(uint256)": "infinite",
      "checkAccess(address,string)": "infinite",
      "dataRecords(string)": "infinite",
      "deviceDataHashes(address,uint256)": "infinite",
      "devices(address)": "infinite",
      "didToAddress(string)": "infinite",
      "getDeviceByDID(string)": "infinite",
      "getDeviceDataHashes(address)": "infinite",
      "getTotalDataRecords()": "2370",
      "getTotalDevices()": "2336",
      "grantAccess(address,string,uint256)": "infinite",
      "owner()": "2376",
      "registerDevice(string,address,address,string)": "infinite",
      "registeredDevices(uint256)": "4682",
      "renounceOwnership()": "infinite",
      "revokeAccess(address,string)": "infinite",
      "storeDataHash(string,string,address,bytes32)": "infinite",
      "transferOwnership(address)": "28465",
      "updateDeviceStatus(address,bool)": "30658",
      "verifyDataIntegrity(string,bytes32)": "infinite"
    }
  },
  "metadata": {
    "compiler": {
      "version": "0.8.20+commit.a1b79de6"
    },
    "language": "Solidity",
    "output": {
      "abi": [
        {
          "inputs": [],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "owner",
              "type": "address"
            }
          ],
          "name": "OwnableInvalidOwner",
          "type": "error"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "account",
              "type": "address"
            }
          ],
          "name": "OwnableUnauthorizedAccount",
          "type": "error"
        },
        {
          "inputs": [],
          "name": "ReentrancyGuardReentrantCall",
          "type": "error"
        },
        {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "internalType": "address",
              "name": "requester",
              "type": "address"
            },
            {
              "indexed": true,
              "internalType": "string",
              "name": "resourceId",
              "type": "string"
            },
            {
              "indexed": false,
              "internalType": "uint256",
              "name": "expiresAt",
              "type": "uint256"
            }
          ],
          "name": "AccessGranted",
          "type": "event"
        },
        {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "internalType": "address",
              "name": "requester",
              "type": "address"
            },
            {
              "indexed": true,
              "internalType": "string",
              "name": "resourceId",
              "type": "string"
            }
          ],
          "name": "AccessRevoked",
          "type": "event"
        },
        {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "indexed": true,
              "internalType": "address",
              "name": "deviceId",
              "type": "address"
            },
            {
              "indexed": false,
              "internalType": "string",
              "name": "dataType",
              "type": "string"
            }
          ],
          "name": "DataStored",
          "type": "event"
        },
        {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "internalType": "string",
              "name": "did",
              "type": "string"
            },
            {
              "indexed": true,
              "internalType": "address",
              "name": "publicKey",
              "type": "address"
            },
            {
              "indexed": true,
              "internalType": "address",
              "name": "controller",
              "type": "address"
            }
          ],
          "name": "DeviceRegistered",
          "type": "event"
        },
        {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "internalType": "address",
              "name": "deviceId",
              "type": "address"
            },
            {
              "indexed": false,
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            }
          ],
          "name": "DeviceStatusChanged",
          "type": "event"
        },
        {
          "anonymous": false,
          "inputs": [
            {
              "indexed": true,
              "internalType": "address",
              "name": "previousOwner",
              "type": "address"
            },
            {
              "indexed": true,
              "internalType": "address",
              "name": "newOwner",
              "type": "address"
            }
          ],
          "name": "OwnershipTransferred",
          "type": "event"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "name": "accessControl",
          "outputs": [
            {
              "internalType": "address",
              "name": "requester",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "resourceId",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "hasAccess",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "grantedAt",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "expiresAt",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "name": "allDataHashes",
          "outputs": [
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_requester",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "_resourceId",
              "type": "string"
            }
          ],
          "name": "checkAccess",
          "outputs": [
            {
              "internalType": "bool",
              "name": "",
              "type": "bool"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "name": "dataRecords",
          "outputs": [
            {
              "internalType": "string",
              "name": "ipfsHash",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "dataType",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "deviceId",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bytes32",
              "name": "dataHash",
              "type": "bytes32"
            },
            {
              "internalType": "bool",
              "name": "isValid",
              "type": "bool"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "name": "deviceDataHashes",
          "outputs": [
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "name": "devices",
          "outputs": [
            {
              "internalType": "string",
              "name": "did",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "publicKey",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "controller",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "isActive",
              "type": "bool"
            },
            {
              "internalType": "string",
              "name": "metadata",
              "type": "string"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "",
              "type": "string"
            }
          ],
          "name": "didToAddress",
          "outputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "_did",
              "type": "string"
            }
          ],
          "name": "getDeviceByDID",
          "outputs": [
            {
              "components": [
                {
                  "internalType": "string",
                  "name": "did",
                  "type": "string"
                },
                {
                  "internalType": "address",
                  "name": "publicKey",
                  "type": "address"
                },
                {
                  "internalType": "address",
                  "name": "controller",
                  "type": "address"
                },
                {
                  "internalType": "uint256",
                  "name": "timestamp",
                  "type": "uint256"
                },
                {
                  "internalType": "bool",
                  "name": "isActive",
                  "type": "bool"
                },
                {
                  "internalType": "string",
                  "name": "metadata",
                  "type": "string"
                }
              ],
              "internalType": "struct DataStorage.DeviceIdentity",
              "name": "",
              "type": "tuple"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_deviceKey",
              "type": "address"
            }
          ],
          "name": "getDeviceDataHashes",
          "outputs": [
            {
              "internalType": "string[]",
              "name": "",
              "type": "string[]"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [],
          "name": "getTotalDataRecords",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [],
          "name": "getTotalDevices",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_requester",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "_resourceId",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "_expiresAt",
              "type": "uint256"
            }
          ],
          "name": "grantAccess",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [],
          "name": "owner",
          "outputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "_did",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "_publicKey",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "_controller",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "_metadata",
              "type": "string"
            }
          ],
          "name": "registerDevice",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "",
              "type": "uint256"
            }
          ],
          "name": "registeredDevices",
          "outputs": [
            {
              "internalType": "address",
              "name": "",
              "type": "address"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        },
        {
          "inputs": [],
          "name": "renounceOwnership",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_requester",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "_resourceId",
              "type": "string"
            }
          ],
          "name": "revokeAccess",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "_ipfsHash",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "_dataType",
              "type": "string"
            },
            {
              "internalType": "address",
              "name": "_deviceId",
              "type": "address"
            },
            {
              "internalType": "bytes32",
              "name": "_dataHash",
              "type": "bytes32"
            }
          ],
          "name": "storeDataHash",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "newOwner",
              "type": "address"
            }
          ],
          "name": "transferOwnership",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_deviceKey",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "_isActive",
              "type": "bool"
            }
          ],
          "name": "updateDeviceStatus",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
        },
        {
          "inputs": [
            {
              "internalType": "string",
              "name": "_ipfsHash",
              "type": "string"
            },
            {
              "internalType": "bytes32",
              "name": "_dataHash",
              "type": "bytes32"
            }
          ],
          "name": "verifyDataIntegrity",
          "outputs": [
            {
              "internalType": "bool",
              "name": "",
              "type": "bool"
            }
          ],
          "stateMutability": "view",
          "type": "function"
        }
      ],
      "devdoc": {
        "details": "Smart contract for IoT-Blockchain security system Handles DID management, public key storage, data hashes, and access control",
        "errors": {
          "OwnableInvalidOwner(address)": [
            {
              "details": "The owner is not a valid owner account. (eg. `address(0)`)"
            }
          ],
          "OwnableUnauthorizedAccount(address)": [
            {
              "details": "The caller account is not authorized to perform an operation."
            }
          ],
          "ReentrancyGuardReentrantCall()": [
            {
              "details": "Unauthorized reentrant call."
            }
          ]
        },
        "kind": "dev",
        "methods": {
          "checkAccess(address,string)": {
            "details": "Check if an address has access to a resource",
            "params": {
              "_requester": "Address to check",
              "_resourceId": "Resource identifier"
            },
            "returns": {
              "_0": "bool Access permission status"
            }
          },
          "constructor": {
            "details": "Constructor sets the deployer as the contract owner."
          },
          "getDeviceByDID(string)": {
            "details": "Get device information by DID",
            "params": {
              "_did": "Decentralized Identifier"
            },
            "returns": {
              "_0": "DeviceIdentity Device information"
            }
          },
          "getDeviceDataHashes(address)": {
            "details": "Get data hashes for a device",
            "params": {
              "_deviceKey": "Device public key"
            },
            "returns": {
              "_0": "string[] Array of IPFS hashes"
            }
          },
          "getTotalDataRecords()": {
            "details": "Get total number of data records",
            "returns": {
              "_0": "uint256 Number of data records"
            }
          },
          "getTotalDevices()": {
            "details": "Get total number of registered devices",
            "returns": {
              "_0": "uint256 Number of devices"
            }
          },
          "grantAccess(address,string,uint256)": {
            "details": "Grant access to a resource",
            "params": {
              "_expiresAt": "Expiration timestamp (0 for no expiration)",
              "_requester": "Address requesting access",
              "_resourceId": "Resource identifier"
            }
          },
          "owner()": {
            "details": "Returns the address of the current owner."
          },
          "registerDevice(string,address,address,string)": {
            "details": "Register a new IoT device with DID",
            "params": {
              "_controller": "Controller address",
              "_did": "Decentralized Identifier",
              "_metadata": "Device metadata",
              "_publicKey": "Device public key"
            }
          },
          "renounceOwnership()": {
            "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."
          },
          "revokeAccess(address,string)": {
            "details": "Revoke access to a resource",
            "params": {
              "_requester": "Address to revoke access from",
              "_resourceId": "Resource identifier"
            }
          },
          "storeDataHash(string,string,address,bytes32)": {
            "details": "Store data hash on blockchain",
            "params": {
              "_dataHash": "Hash of actual data for integrity",
              "_dataType": "Type of data",
              "_deviceId": "Device that generated the data",
              "_ipfsHash": "IPFS hash of encrypted data"
            }
          },
          "transferOwnership(address)": {
            "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
          },
          "updateDeviceStatus(address,bool)": {
            "details": "Update device status",
            "params": {
              "_deviceKey": "Device public key",
              "_isActive": "New status"
            }
          },
          "verifyDataIntegrity(string,bytes32)": {
            "details": "Verify data integrity",
            "params": {
              "_dataHash": "Original data hash",
              "_ipfsHash": "IPFS hash"
            },
            "returns": {
              "_0": "bool Integrity verification result"
            }
          }
        },
        "title": "DataStorage",
        "version": 1
      },
      "userdoc": {
        "kind": "user",
        "methods": {},
        "version": 1
      }
    },
    "settings": {
      "compilationTarget": {
        "DataStorage.sol": "DataStorage"
      },
      "evmVersion": "london",
      "libraries": {},
      "metadata": {
        "bytecodeHash": "ipfs"
      },
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "remappings": [
        ":@openzeppelin/contracts/=node_modules/@openzeppelin/contracts/"
      ]
    },
    "sources": {
      "DataStorage.sol": {
        "keccak256": "0x90c40382957e40d42b31e2fc85689c1bc359de12b4b05f221960aecdb6a1fa49",
        "urls": [
          "bzz-raw://5c327de1e3dbe0b4ca35f10cf78c08ce47ec8c6ab510a6f6be0caf1296b0e551",
          "dweb:/ipfs/QmQesDr2rPtAmLsHKjnQLBPzJkh84BmFo5WeKDsxeA8CoX"
        ]
      },
      "node_modules/@openzeppelin/contracts/access/Ownable.sol": {
        "keccak256": "0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb",
        "license": "MIT",
        "urls": [
          "bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6",
          "dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"
        ]
      },
      "node_modules/@openzeppelin/contracts/utils/Context.sol": {
        "keccak256": "0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2",
        "license": "MIT",
        "urls": [
          "bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12",
          "dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"
        ]
      },
      "node_modules/@openzeppelin/contracts/utils/ReentrancyGuard.sol": {
        "keccak256": "0x11a5a79827df29e915a12740caf62fe21ebe27c08c9ae3e09abe9ee3ba3866d3",
        "license": "MIT",
        "urls": [
          "bzz-raw://3cf0c69ab827e3251db9ee6a50647d62c90ba580a4d7bbff21f2bea39e7b2f4a",
          "dweb:/ipfs/QmZiKwtKU1SBX4RGfQtY7PZfiapbbu6SZ9vizGQD9UHjRA"
        ]
      }
    },
    "version": 1
  },
  "sourceFile": "DataStorage.sol",
  "compiler": {
    "version": "0.8.20",
    "optimizer": true,
    "runs": 200
  }
}